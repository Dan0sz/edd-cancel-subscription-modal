document.addEventListener("DOMContentLoaded",function(){const modal=document.getElementById("edd-cancel-modal");const closeButton=modal.querySelector(".edd-cancel-modal-close");const confirmButton=document.getElementById("edd-cancel-modal-confirm");const cancelButton=document.getElementById("edd-cancel-modal-cancel");const checkbox=document.getElementById("edd-cancel-confirm-checkbox");let originalLink=null;checkbox.addEventListener("change",function(){confirmButton.disabled=!this.checked});function daanOpenModal(event){event.preventDefault();originalLink=event.currentTarget;modal.style.display="block";modal.style.opacity="0";setTimeout(()=>{modal.style.opacity="1"},10)}function daanCloseModal(){modal.style.opacity="0";setTimeout(()=>{modal.style.display="none"},200)}document.querySelectorAll(".edd_subscription_cancel").forEach(link=>{link.addEventListener("click",daanOpenModal)});closeButton.addEventListener("click",daanCloseModal);window.addEventListener("click",function(event){if(event.target===modal){daanCloseModal()}});confirmButton.addEventListener("click",function(){if(originalLink&&checkbox.checked){window.location.href=originalLink.href}});cancelButton.addEventListener("click",daanCloseModal)});